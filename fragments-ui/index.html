<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fragments UI</title>
    <link rel="stylesheet" href="https://unpkg.com/bamboo.css" />

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#2196f3" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Fragments" />

    <!-- PWA Icons -->
    <link
      rel="apple-touch-icon"
      href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxOTIiIHJ4PSIyNCIgZmlsbD0iIzIxOTZGMyIvPjxzdmcgeD0iNDgiIHk9IjQ4IiB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiPjxwYXRoIGQ9Ik0xNCAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOGwtNi02eiIvPjxwYXRoIGQ9Ik0xNCAydjZoNk0xNiAxM0g2YTIgMiAwIDAgMC0yIDJ2NWEyIDIgMCAwIDAgMiAyaDEwYTIgMiAwIDAgMCAyLTJ2LTVhMiAyIDAgMCAwLTItMnoiLz48L3N2Zz48L3N2Zz4="
    />
  </head>
  <body>
    <h1>Fragments UI</h1>

    <!-- Offline Status Indicator -->
    <div
      id="offline-indicator"
      style="
        display: none;
        background: #ff9800;
        color: white;
        padding: 8px;
        text-align: center;
        font-weight: bold;
      "
    >
      ðŸ“± Offline Mode - Some features may be limited
    </div>

    <section>
      <nav>
        <button id="login">Sign In with Cognito</button>
        <button id="logout" hidden>Sign Out</button>
        <button
          id="install-pwa"
          hidden
          style="background: #4caf50; color: white; margin-left: 10px"
        >
          ðŸ“± Install App
        </button>
      </nav>
    </section>

    <section hidden id="user">
      <h2>Hello <span class="username"></span>!</h2>
      <p>âœ… Authenticated via Amazon Cognito</p>
    </section>

    <h2>Create a Fragment</h2>
    <form id="create-form">
      <label for="type">Type:</label>
      <select id="type">
        <option value="text/plain">text/plain</option>
        <option value="text/markdown">text/markdown</option>
        <option value="text/html">text/html</option>
        <option value="text/csv">text/csv</option>
        <option value="application/json">application/json</option>
        <option value="application/yaml">application/yaml</option>
      </select>
      <br />
      <label for="content">Content:</label><br />
      <textarea
        id="content"
        rows="6"
        cols="50"
        placeholder="Enter your fragment content here..."
      ></textarea
      ><br />

      <h3>Or Upload an Image:</h3>
      <input type="file" id="image-input" accept="image/*" />
      <br /><br />

      <button type="submit">Create Fragment</button>
    </form>
    <div id="post-result" style="margin-top: 1rem"></div>

    <h2>Your Fragments</h2>
    <button id="load-fragments">Load My Fragments</button>
    <div id="fragment-list"></div>

    <h2>Fragment Actions</h2>
    <div id="fragment-actions" style="margin-top: 1rem">
      <input type="text" id="fragment-id" placeholder="Fragment ID" />
      <button id="view-fragment">View Fragment</button>
      <button id="delete-fragment">Delete Fragment</button>
      <button id="update-fragment">Update Fragment</button>
    </div>

    <h2>Format Conversions</h2>
    <div id="conversion-actions" style="margin-top: 1rem">
      <input
        type="text"
        id="conversion-fragment-id"
        placeholder="Fragment ID"
      />
      <select id="conversion-format">
        <option value="txt">Plain Text (.txt)</option>
        <option value="html">HTML (.html)</option>
        <option value="json">JSON (.json)</option>
        <option value="yaml">YAML (.yaml)</option>
        <option value="png">PNG (.png)</option>
        <option value="jpeg">JPEG (.jpeg)</option>
        <option value="webp">WebP (.webp)</option>
      </select>
      <button id="convert-fragment">Convert Fragment</button>
    </div>

    <div
      id="result-display"
      style="
        margin-top: 2rem;
        padding: 1rem;
        border: 1px solid #ccc;
        min-height: 100px;
      "
    >
      <h3>Results:</h3>
      <div id="result-content"></div>
    </div>

    <script type="module" src="./src/app.js"></script>
  </body>
</html>
